module analysis/declarations
language c18

fixture [[
int main(int argc, char **argv) {
  [[...]]
  
  return 0;
}
]]

test array (initializer, no length) [[
  int x[] = {1,2,3};
]] analysis succeeds

test array (initializer, length) [[
  int x[3] = {1,2,3};
]] analysis succeeds

test array (length > initializer) [[
  int x[5] = {1,2,3};
]] analysis succeeds

test array (length < initializer) [[
  int x[1] = {1,2,3};
]] analysis fails

test array (no initializer, no length) [[
  int x[];
]] analysis fails

test array intializer (no initializer, length) [[
  int x[8];
]] analysis succeeds
